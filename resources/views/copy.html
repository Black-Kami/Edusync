<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary-color: #4a6bdf;
            --secondary-color: #f8f9fa;
            --text-color: #333;
            --hover-color: #3a56c0;
            --today-color: #ff6b6b;
            --disabled-color: #e9ecef;
            --border-color: #dee2e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            text-align: center;

        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            height: auto;
            color: var(--text);

        }

        header {
            width: auto;
            background-color: #333;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
        }

        .logo {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        /* Profile button container */
        .profile {
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* Avatar image styling */
        .profile-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .profile:hover .profile-avatar {
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.6);
        }

        /* Name styling */
        .profile-name {
            color: white;
            font-weight: 500;
            font-size: 0.9rem;
            margin-right: 0.5rem;
        }

        /* Dropdown indicator */
        .profile-indicator {
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid white;
            transition: transform 0.3s ease;
        }

        /* Dropdown menu */
        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            width: 220px;
            overflow: hidden;
            transform: translateY(10px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .profile.active .profile-dropdown {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .profile.active .profile-indicator {
            transform: rotate(180deg);
        }

        /* Dropdown items */
        .profile-dropdown-item {
            padding: 0.8rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: #333;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .profile-dropdown-item:hover {
            background-color: #f5f5f5;
            color: #4a00e0;
        }

        .profile-dropdown-item i {
            width: 20px;
            text-align: center;
            color: #666;
        }

        .profile-dropdown-divider {
            height: 1px;
            background-color: #eee;
            margin: 0.2rem 0;
        }

        main {
            width: 100%;
            display: flex;
            height: auto;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }

            .profile-name {
                display: none;
            }
        }

        .navigation {
            padding-top: 20px;
            width: 100px;
            background-color: rgba(45, 77, 193, 0.8);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .navigation button {
            cursor: pointer;
        }

        .navigation button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        footer {
            width: 100%;
            background-color: #333;
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-text {
            font-size: 0.9rem;
        }

        .footer-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .activity_proposal_container {
            width: 100%;
            display: grid;
            flex: 1;
            grid-template-columns: 1fr;
            grid-template-rows: 75px auto;
            grid-template-areas:
                "head"
                "content";
            height: 100%;
            grid-gap: 5px;
        }

        .activity_proposal_head {
            grid-area: head;
            display: flex;
            background-color: rgba(227, 200, 200, 0.7);
            height: auto;
            padding: 1rem 2rem;
            align-items: center;
            border-bottom: solid;
            justify-content: space-between;
        }

        .activity_proposal_content {
            grid-area: content;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .dashboard_calendar {
            width: 250px;
            background-color: white;
            padding-left: 5px;
            padding-right: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-left: 5px;

        }

        /*calendar*/
        .calendar-header {
            display: flex;
            font-weight: bolder;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #4285f4;
            color: white;
            height: 70px;
        }

        .calendar-nav {
            display: flex;
            gap: 15px;
        }

        .calendar-nav button {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            padding: 10px 0;
            background: #eee;
            font-weight: bold;
        }

        .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #ddd;
            border: 1px solid #ccc;
        }

        .day {
            background: white;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .day:hover {
            background: #f0f0f0;
        }

        .day.today {
            background: #e1f5fe;
            font-weight: bold;
        }

        .day.other-month {
            background: rgba(176, 175, 175, 0.6);
            font-weight: bolder;
        }

        /*calendar*/
        .form_head {
            display: flex;
            color: white;
            background-color: rgba(62, 101, 241, 0.91);
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            height: 75px;
            align-items: center;
            justify-content: center;
        }

        .form_content {
            display: flex;
            border: 1px solid black;

        }

        tr,
        td {
            border: 1px transparent solid;
        }

        table {
            width: 100%;
            min-width: 500px;
        }

        .td1 {
            width: 30%;
            border: 1px solid black;
        }

        .td2 {
            width: 70%;
            padding-right: 1rem;
        }

        tr {
            width: 1500px;
        }

        .input {
            width: 100%;
            padding: 6px;
            font-size: 16px;
        }

        .label {
            width: 100%;
            height: 30px;
            padding: 6px;
        }

        .checkbox {
            display: flex;
            justify-content: space-evenly;
            padding-left: 0px;
        }

         .interaction-section {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
        }
        .click-trigger {
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .click-trigger:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .calendar-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 100;
            display: none;
            max-width: 1fr;
            max-height: 1fr;
            animation: fadeIn 0.3s ease-out;
        }

        .calendar-popup {
            max-width: 100%;
            max-height: 100%;
            border-radius: 6px;
            display: none;
        }

        .close-btn {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 30px;
            height: 30px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            transform: scale(1.1);
            background: #c0392b;
        }

        .calendar-container_overlay {
            width: 100%;
            max-width: 800px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .calendar-header_overlay {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: var(--primary-color);
            color: white;
        }

        .month-year_overlay {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .nav-buttons_overlay {
            display: flex;
            gap: 10px;
        }

        .nav-button_overlay {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px 15px;
            border-radius: 6px;
            transition: background-color 0.2s ease;
        }

        .nav-button_overlay:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .weekdays_overlay {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background-color: var(--secondary-color);
            padding: 10px 0;
            text-align: center;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
        }

        .days-grid_overlay {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            padding: 10px;
        }

        .day_overlay {
            aspect-ratio: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .day_overlay:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .day_overlay.current-month_overlay {
            color: var(--text-color);
        }

        .day_overlay.other-month_overlay {
            color: #adb5bd;
        }

        .day_overlay.today_overlay {
            background-color: var(--today-color);
            color: white;
            font-weight: 600;
        }

        .day_overlay.selected_overlay {
            background-color: var(--primary-color);
            font-weight: 600;
        }

        .day_overlay.in-range {
            background-color: rgba(74, 107, 223, 0.2);
            /*range date*/
        }

        .day_overlay.range-start {
            border-top-left-radius: 50%;
            border-bottom-left-radius: 50%;
        }

        .day_overlay.range-end {
            border-top-right-radius: 50%;
            border-bottom-right-radius: 50%;
        }

        .day_overlay.disabled {
            color: #ced4da;
            cursor: not-allowed;
            background-color: var(--disabled-color);
        }

        .day_overlay::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(74, 107, 223, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .day_overlay:hover::after {
            opacity: 1;
        }

        .day-events_overlay {
            position: absolute;
            bottom: 5px;
            display: flex;
            justify-content: center;
            gap: 3px;
        }

        .event-dot_overlay {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--primary-color);
        }

        .day_overlay.today_overlay .event-dot_overlay {
            background-color: white;
        }

        .selected-date-display_overlay {
            margin-top: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 1.2rem;
            text-align: center;
            max-width: 800px;
            width: 100%;
        }

        .selected-date-display_overlay span {
            font-weight: 600;
            color: var(--primary-color);
        }

        @media (max-width: 600px) {
            .calendar-container_overlay {
                border-radius: 0;
            }

            .month-year_overlay {
                font-size: 1.2rem;
            }

            .nav-button_overlay {
                padding: 5px 10px;
            }

            .day_overlay {
                font-size: 0.9rem;
            }

            .selected-date-display_overlay {
                font-size: 1rem;
                padding: 10px 15px;
            }
        }
    </style>
</head>

<body class="min-h-screen py-0 px-0">
    <header>
        <div class="logo">EduSync</div>
        <div class="profile" id="profileButton">
            <span class="profile-name">User Name</span>
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/abbee46c-b669-4bbf-bd5c-7c1805161be7.png"
                alt="Profile picture of User Name, a professional headshot against a neutral background"
                class="profile-avatar">
            <div class="profile-indicator"></div>
            <div class="profile-dropdown">
                <a href="/profile" class="profile-dropdown-item">
                    <span>My Profile</span>
                </a>
                <a href="#" class="profile-dropdown-item">
                    <span>Settings</span>
                </a>
                <a href="#" class="profile-dropdown-item">
                    <span>Messages</span>
                </a>
                <div class="profile-dropdown-divider"></div>
                <a href="#" class="profile-dropdown-item">
                    <span>Log Out</span>
                </a>
            </div>
        </div>
    </header>
    <main class="max-w-0x5 mx-auto">
        <nav class="navigation">
            <a href="/dashboard"><i class="fas fa-home"></i><br> Home</a>
            <a href="/activity"><i class="fas fa-file-alt"></i><br> Activity</a>
            <a href="/group"><i class="fas fa-group"></i><br> Group</a>
            <a href="/evaluation"><i class="fas fa-file-alt"></i><br> Evaluation</a>
            <a href="/event"><i class="fas fa-file-alt"></i><br> Event</a>
        </nav>
        <section class="activity_proposal_container">
            <div class="activity_proposal_head">
                <h2 style="font-weight: bolder; font-size: larger;">Proposal Details</h2>
                <div class="proposal_create_button">
                    <a href="/activity">
                        <span>Submit</span>
                    </a>
                </div>
            </div>
            <div class="activity_proposal_content">
                <form action="">
                    <div class="form_head">
                        <h1>STI COLLEGE STA. MARIA<br>ACTIVITY PROPOSAL FORM</h1>
                    </div>
                    <div class="form_content">
                        <table style="width: 100%;">
                            <tr>
                                <td class="td1">
                                    <label for="requesting_club" class="label">REQUESTING CLUB</label>
                                </td>
                                <td class="td2">
                                    <input type="text" class="input" id="requesting_club" list="club_name"
                                        placeholder="Enter Text" required>
                                    <datalist id="club_name">
                                        <option value="Enter Organization"></option>
                                        <option value="num1"></option>
                                        <option value="num2"></option>
                                    </datalist>
                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label for="person_in_charge" class="label">PERSON-INCHARGE</label>
                                </td>
                                <td class="td2">
                                    <input type="text" class="input" id="person_in_charge" placeholder="Enter Text"
                                        required>
                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label for="title" class="label">TITLE</label>
                                </td>
                                <td class="td2">
                                    <input type="text" class="input" id="title" placeholder="Enter Text" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label for="objective" class="label">OBJECTIVE</label>
                                </td>
                                <td class="td2">
                                    <input type="text" class="input" id="objective" placeholder="Enter Text" required>
                                </td>
                            </tr>
                            <tr>
                                <td class="td1">
                                    <label for="type" class="label">TYPE</label>
                                </td>
                                <td class="td2">
                                    <div class="checkbox" id="type">
                                        <div>
                                            <input type="radio" id="Minor" required>
                                            <label for="Minor">Minor</label>
                                        </div>
                                        <div>
                                            <input type="radio" id="Major" required>
                                            <label for="Major">Major</label>
                                        </div>
                                        <div>
                                            <input type="radio" id="School-Wide" required>
                                            <label for="School-Wide">School Wide</label>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="selected-date-display_overlay" id="selected-date-display_overlay">
                                        Selected date: <span id="selected-date_overlay">None</span>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" id="date" placeholder="Enter date">
                                    <div class="interaction-section">
          
            
            <button class="click-trigger" id="clickButton">Click Me</button>
        </div>
   

    <div class="calendar-popup" id="calendarPopup">
        <button class="close-btn" id="closeBtn">×</button>



<div class="calendar-container_overlay">
        <div class="calendar-header_overlay">
            <div class="nav-buttons_overlay">
                <button class="nav-button_overlay" id="prev-month_overlay">&lt;</button>
            </div>
            <div class="month-year_overlay" id="month-year_overlay">Month Year</div>
            <div class="nav-buttons_overlay">
                <button class="nav-button_overlay" id="next-month_overlay">&gt;</button>
            </div>
        </div>
        
        <div class="weekdays_overlay">
            <div>Sun</div>
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
        </div>
        
        <div class="days-grid_overlay" id="days-grid_overlay"></div>
    </div>

    
           </div>
                                   
                                </td>


                            </tr>
                            <tr></tr>
                            <tr></tr>
                            <tr></tr>
                        </table>


                    </div>
                </form>
            </div>
        </section>
        <aside class="dashboard_calendar">
            <div>
                <h2>Activity Calendar</h2>
                <div class="calendar">
                    <div class="calendar-header">
                        <button id="prev-month">&lt;</button>
                        <div id="month-year">Month Year</div>
                        <button id="next-month">&gt;</button>
                    </div>
                    <div class="weekdays">
                        <div>Sun</div>
                        <div>Mon</div>
                        <div>Tue</div>
                        <div>Wed</div>
                        <div>Thu</div>
                        <div>Fri</div>
                        <div>Sat</div>
                    </div>
                    <div class="days" id="days-container">
                        <!-- Days will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>
        </aside>
    </main>
    <footer>
        <div class="footer-text">
            @copy; 2025 <strong>EduSync</strong>.
        </div>
        <div class="footer-links">
            <span>Resources</span>
            <span>About</span>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const profileButton = document.getElementById('profileButton');

            // Toggle dropdown when profile is clicked
            profileButton.addEventListener('click', function (e) {
                e.stopPropagation();
                this.classList.toggle('active');
            });
            // Close dropdown when clicking outside
            document.addEventListener('click', function () {
                if (profileButton.classList.contains('active')) {
                    profileButton.classList.remove('active');
                }
            });
        });
        document.addEventListener('DOMContentLoaded', function () {

            // DOM elements
            const monthYearEl = document.getElementById('month-year');
            const daysContainer = document.getElementById('days-container');
            const prevMonthBtn = document.getElementById('prev-month');
            const nextMonthBtn = document.getElementById('next-month');

            // Current date state
            let currentDate = new Date();

            // Render the calendar
            function renderCalendar() {
                // Get the month and year
                const month = currentDate.getMonth();
                const year = currentDate.getFullYear();

                // Update the month-year display
                monthYearEl.textContent = `${getMonthName(month)} ${year}`;

                // Get the first day of the month
                const firstDay = new Date(year, month, 1).getDay();

                // Get the last day of the month
                const lastDay = new Date(year, month + 1, 0).getDate();

                // Get the last day of the previous month
                const prevLastDay = new Date(year, month, 0).getDate();

                // Clear the days container
                daysContainer.innerHTML = '';

                // Previous month days
                for (let i = firstDay; i > 0; i--) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'day other-month';
                    dayElement.textContent = prevLastDay - i + 1;
                    daysContainer.appendChild(dayElement);
                }

                // Current month days
                const today = new Date();
                for (let i = 1; i <= lastDay; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'day';
                    dayElement.textContent = i;

                    // Highlight today
                    if (i === today.getDate() &&
                        month === today.getMonth() &&
                        year === today.getFullYear()) {
                        dayElement.classList.add('today');
                    }

                    daysContainer.appendChild(dayElement);
                }

                // Calculate how many next month days we need to show
                const daysLeft = 42 - (firstDay + lastDay);

                // Next month days
                for (let i = 1; i <= daysLeft; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'day other-month';
                    dayElement.textContent = i;
                    daysContainer.appendChild(dayElement);
                }
            }

            // Helper function to get month name
            function getMonthName(month) {
                const months = [
                    'January', 'February', 'March', 'April',
                    'May', 'June', 'July', 'August',
                    'September', 'October', 'November', 'December'
                ];
                return months[month];
            }

            // Event listeners for navigation
            prevMonthBtn.addEventListener('click', function () {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });

            nextMonthBtn.addEventListener('click', function () {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });

            // Initial render
            renderCalendar();
        });
        // Click select date
        const clickButton = document.getElementById('clickButton');
        const calendarPopup = document.getElementById('calendarPopup');
        const closeBtn = document.getElementById('closeBtn');
        clickButton.addEventListener('click', () => {
            calendarPopup.style.display = 'block';
            document.body.style.overflow = 'hidden';
        });
        closeBtn.addEventListener('click', () => {
            calendarPopup.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        // Close popup when pressing Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && calendarPopup.style.display === 'block') {
                calendarPopup.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            const monthYearEl_overlay = document.getElementById('month-year_overlay');
            const daysGridEl_overlay = document.getElementById('days-grid_overlay');
            const prevMonthBtn_overlay = document.getElementById('prev-month_overlay');
            const nextMonthBtn_overlay = document.getElementById('next-month_overlay');
            const selectedDateEl_overlay = document.getElementById('selected-date_overlay');

            let currentDate_overlay = new Date();
            let currentMonth_overlay = currentDate_overlay.getMonth();
            let currentYear_overlay = currentDate_overlay.getFullYear();

            // Sample events data
            const events = {

            };

            function renderCalendar_overlay(month, year) {
                monthYearEl_overlay.textContent = `${new Date(year, month).toLocaleString('default', { month: 'long' })} ${year}`;
                daysGridEl_overlay.innerHTML = '';

                const firstDay_overlay = new Date(year, month, 1);
                const lastDay_overlay = new Date(year, month + 1, 0);
                const daysInMonth_overlay = lastDay_overlay.getDate();

                const firstDayIndex_overlay = firstDay_overlay.getDay();
                const lastDayIndex_overlay = lastDay_overlay.getDay();
                const daysFromPrevMonth_overlay = firstDayIndex_overlay;
                const daysFromNextMonth_overlay = 6 - lastDayIndex_overlay;

                const totalDaysToShow = daysInMonth_overlay + daysFromPrevMonth_overlay + daysFromNextMonth_overlay;

                // Previous month days
                const prevMonthLastDay_overlay = new Date(year, month, 0).getDate();
                for (let i_overlay = daysFromPrevMonth_overlay - 1; i_overlay >= 0; i_overlay--) {
                    const day_overlay = prevMonthLastDay_overlay - i_overlay;
                    const dayElement_overlay = createDayElement_overlay(day_overlay, 'other-month_overlay', false, events, month - 1, year);
                    daysGridEl_overlay.appendChild(dayElement_overlay);
                }

                // Current month days
                const today_overlay = new Date();
                for (let i_overlay = 1; i_overlay <= daysInMonth_overlay; i_overlay++) {
                    const isToday_overlay = i_overlay === today_overlay.getDate() && month === today_overlay.getMonth() && year === today_overlay.getFullYear();
                    const dayClass_overlay = isToday_overlay ? 'day_overlay current-month_overlay today_overlay' : 'day_overlay current-month_overlay';
                    const dayElement_overlay = createDayElement_overlay(i_overlay, dayClass_overlay, true, events, month, year);
                    daysGridEl_overlay.appendChild(dayElement_overlay);
                }

                // Next month days
                for (let i_overlay = 1; i_overlay <= daysFromNextMonth_overlay; i_overlay++) {
                    const dayElement_overlay = createDayElement_overlay(i_overlay, 'day_overlay other-month_overlay', false, events, month + 1, year);
                    daysGridEl_overlay.appendChild(dayElement_overlay);
                }
            }

            let selectedDates_overlay = [];
            let isSelectingRange_overlay = false;
            function formatDate_overlay(date) {
                if (!date) return '';
                return date.toLocaleDateString('en-US', {
                    weekday: 'long',
                    month: 'numeric',
                    day: 'numeric',
                    year: 'numeric'
                });
            }

            function updateSelectedDateDisplay_overlay() {
                if (selectedDates_overlay.length === 0) {
                    selectedDateEl_overlay.textContent = 'None';
                } else if (selectedDates_overlay.length === 1) {
                    selectedDateEl_overlay.textContent = formatDate_overlay(selectedDates_overlay[0]);
                } else {
                    selectedDateEl_overlay.textContent = `${formatDate_overlay(selectedDates_overlay[0])} to ${formatDate_overlay(selectedDates_overlay[1])}`;
                }
            }
            function createDayElement_overlay(day, className, isCurrentMonth, events, month, year) {
                const dayElement_overlay = document.createElement('div');
                dayElement_overlay.className = className;
                dayElement_overlay.textContent = day;

                if (isCurrentMonth) {
                    const dateStr_overlay = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    const dateObj_overlay = new Date(year, month, day);

                    if (events[dateStr_overlay]) {
                        const eventsDotContainer_overlay = document.createElement('div');
                        eventsDotContainer_overlay.className = 'day-events';

                        events[dateStr_overlay].forEach(() => {
                            const dot_overlay = document.createElement('div');
                            dot_overlay.className = 'event-dot';
                            eventsDotContainer_overlay.appendChild(dot_overlay);
                        });

                        dayElement_overlay.appendChild(eventsDotContainer_overlay);
                    }

                    dayElement_overlay.addEventListener('click', () => {
                        if (selectedDates_overlay.length === 0 || selectedDates_overlay.length === 2) {
                            // Start new selection
                            selectedDates_overlay = [dateObj_overlay];
                            dayElement_overlay.classList.add('selected_overlay', 'range-start');
                            isSelectingRange_overlay = true;
                        } else if (isSelectingRange_overlay && selectedDates_overlay.length === 1) {
                            // Complete range selection
                            selectedDates_overlay.push(dateObj_overlay);
                            selectedDates_overlay.sort((a, b) => a - b);
                            highlightRange_overlay(daysGridEl_overlay, selectedDates_overlay[0], selectedDates_overlay[1]);
                            isSelectingRange_overlay = false;
                        }

                        // Update the selected date display
                        updateSelectedDateDisplay_overlay();
                    });
                } else {
                    dayElement_overlay.classList.add('disabled');
                }

                return dayElement_overlay;
            }

            prevMonthBtn_overlay.addEventListener('click', () => {
                currentMonth_overlay--;
                if (currentMonth_overlay < 0) {
                    currentMonth_overlay = 11;
                    currentYear_overlay--;
                }
                renderCalendar_overlay(currentMonth_overlay, currentYear_overlay);
                updateSelectedDateDisplay_overlay();
            });

            nextMonthBtn_overlay.addEventListener('click', () => {
                currentMonth_overlay++;
                if (currentMonth_overlay > 11) {
                    currentMonth_overlay = 0;
                    currentYear_overlay++;
                }
                renderCalendar_overlay(currentMonth_overlay, currentYear_overlay);
                selectedDates_overlay = [];
                updateSelectedDateDisplay_overlay();
            });

            function highlightRange_overlay(container_overlay, startDate_overlay, endDate_overlay) {
                const days_overlay = container_overlay.querySelectorAll('.day_overlay.current-month_overlay');

                days_overlay.forEach(dayEl_overlay => {
                    const day_overlay = parseInt(dayEl_overlay.textContent);
                    const dateStr_overlay = `${currentYear_overlay}-${String(currentMonth_overlay + 1).padStart(2, '0')}-${String(day_overlay).padStart(3, '0')}`;
                    const dateObj_overlay = new Date(dateStr_overlay);

                    dayEl_overlay.classList.remove('selected_overlay', 'in-range', 'range-start', 'range-end');

                    if (dateObj_overlay >= startDate_overlay && dateObj_overlay <= endDate_overlay) {
                        dayEl_overlay.classList.add('in-range');

                        if (dateObj_overlay.getTime() === startDate_overlay.getTime()) {
                            dayEl_overlay.classList.add('selected_overlay', 'range-start');
                        } else if (dateObj_overlay.getTime() === endDate_overlay.getTime()) {
                            dayEl_overlay.classList.add('selected_overlay', 'range-end');
                        }
                    }
                });
            }

            // Initial render
            renderCalendar_overlay(currentMonth_overlay, currentYear_overlay);
        });


    </script>
</body>

</html>